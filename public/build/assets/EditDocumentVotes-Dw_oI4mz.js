import{d as h,r as m,m as k,c as o,o as a,a as l,b as w,h as V,w as y,e as t,n as U,F as c,i as p,t as g,x as A,z as S,s as C}from"./app-fd9APL3o.js";import{_ as B}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BCtCMGtt.js";import{P as N}from"./PrimaryButton-ZUGOc5Z2.js";import{_ as j}from"./BackButtonRow.vue_vue_type_script_setup_true_lang-jrgxoqx0.js";/* empty css            */import"./ClipboardDocumentListIcon-BSLqYE-r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"flex items-center justify-end mb-4"},D={key:0},F={key:1},O={key:0,class:"overflow-x-auto"},E={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},I={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},M={class:"px-6 py-4 whitespace-norma text-sm font-medium text-gray-900 dark:text-gray-100"},P={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 w-1/3 md:w-1/3 lg:w-1/5"},T=["onUpdate:modelValue"],$=["value"],q={key:1,class:"text-center p-10 text-gray-500 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 border-4 border-dashed border-gray-400 dark:border-gray-600 rounded-lg"},W=h({__name:"EditDocumentVotes",props:{session:{},document:{},voteCategories:{},votes:{},notVotedUsers:{}},setup(v){const r=v,d=m(!1),_=Array.isArray(r.votes)?r.votes:Object.values(r.votes),b=Array.isArray(r.notVotedUsers)?r.notVotedUsers:Object.values(r.notVotedUsers),x=k(()=>{const i=_.map(e=>({id:e.id,vote_category_id:e.vote_category_id,user:e.user})),s=b.map(e=>({id:null,vote_category_id:null,user:e}));return[...i,...s]}),u=m(x.value),f=()=>{d.value=!0;const s={votes:u.value.map(e=>({id:e.id,user_id:e.user.id,vote_category_id:e.vote_category_id}))};C.put(route("sessions.documents.update_votes",{id:r.session.id,document_id:r.document.id}),s,{onFinish:()=>d.value=!1})};return(i,s)=>(a(),o(c,null,[l(w(V),{title:"Votos"}),l(B,null,{default:y(()=>[l(j,{href:i.route("sessions.index")},null,8,["href"]),t("div",z,[l(N,{onClick:f,disabled:d.value,class:U({"opacity-25":d.value})},{default:y(()=>[d.value?(a(),o("span",D,"Salvando...")):(a(),o("span",F,"Salvar Ordem"))]),_:1},8,["disabled","class"])]),u.value.length>0?(a(),o("div",O,[t("table",E,[s[1]||(s[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Membro "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Voto ")])],-1)),t("tbody",I,[(a(!0),o(c,null,p(u.value,e=>(a(),o("tr",{key:e.user.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200"},[t("td",M,g(e.user.name),1),t("td",P,[A(t("select",{"onUpdate:modelValue":n=>e.vote_category_id=n,class:"mt-1 block px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"},[s[0]||(s[0]=t("option",{value:null},"Nenhum",-1)),(a(!0),o(c,null,p(i.voteCategories,n=>(a(),o("option",{key:n.id,value:n.id,class:"whitespace-normal break-words"},g(n.name),9,$))),128))],8,T),[[S,e.vote_category_id]])])]))),128))])])])):(a(),o("div",q,s[2]||(s[2]=[t("p",{class:"font-bold text-xl mb-2"},"Nenhum membro para votar.",-1),t("p",null,"A lista de quórum para este documento está vazia.",-1)])))]),_:1})],64))}});export{W as default};
