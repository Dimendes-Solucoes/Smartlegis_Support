import{d as w,r as b,u as c,q as h,c as d,o as m,a as n,b as t,h as V,w as g,e as s,f as P,k as _,x as p,A as v,F as y,i as F,t as f,z as N,n as S,g as $}from"./app-fd9APL3o.js";import{_ as C}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BCtCMGtt.js";import{P as M}from"./PrimaryButton-ZUGOc5Z2.js";import{_ as U,a as B}from"./InputError.vue_vue_type_script_setup_true_lang-iRk06wta.js";import{_ as D,a as R}from"./UserForm.vue_vue_type_script_setup_true_lang-CCG1b_sa.js";import{_ as z}from"./BackButtonRow.vue_vue_type_script_setup_true_lang-jrgxoqx0.js";/* empty css            */import"./ClipboardDocumentListIcon-BSLqYE-r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./image-RR6o88EA.js";import"./TextInput.vue_vue_type_script_setup_true_lang-DmtmWbjN.js";const A={key:0,class:"mb-6"},E={class:"flex space-x-4"},I={class:"inline-flex items-center"},T={class:"inline-flex items-center"},j={key:1,class:"mb-6 text-gray-700 dark:text-gray-300"},q={key:2},L={class:"mb-4"},O={key:3},G={class:"mb-4"},H=["value"],J={class:"flex items-center justify-end mt-4"},re=w({__name:"ReplaceMayor",props:{categories:{},mayors:{}},setup(x){const l=x,r=b((l.mayors.length>0,"new")),a=c({name:"",email:"",password:"",password_confirmation:"",nickname:"",path_image:null,category_id:""}),i=c({mayor_id:""});h(r,u=>{u==="new"?i.reset():(a.reset(),a.path_image=null)});const k=()=>{r.value==="new"?a.post(route("users.store"),{forceFormData:!0,onFinish:()=>{a.reset("password","password_confirmation")}}):i.post(route("users.save_mayor"),{onSuccess:()=>{i.reset()}})};return(u,e)=>(m(),d(y,null,[n(t(V),{title:"Trocar Prefeito"}),n(C,null,{default:g(()=>[n(z,{href:u.route("users.index")},null,8,["href"]),s("form",{onSubmit:P(k,["prevent"])},[l.mayors.length>0?(m(),d("div",A,[s("div",E,[s("label",I,[p(s("input",{type:"radio","onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o),value:"new",class:"form-radio text-indigo-600 dark:text-indigo-400"},null,512),[[v,r.value]]),e[4]||(e[4]=s("span",{class:"ml-2 text-gray-700 dark:text-gray-300"},"Novo Prefeito",-1))]),s("label",T,[p(s("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=o=>r.value=o),value:"existing",class:"form-radio text-indigo-600 dark:text-indigo-400"},null,512),[[v,r.value]]),e[5]||(e[5]=s("span",{class:"ml-2 text-gray-700 dark:text-gray-300"},"Reativar Prefeito Existente",-1))])])])):(m(),d("div",j,e[6]||(e[6]=[s("p",null,"Informe os dados do novo prefeito",-1)]))),r.value==="new"||l.mayors.length===0?(m(),d("div",q,[s("div",L,[n(D,{modelValue:t(a).path_image,"onUpdate:modelValue":e[2]||(e[2]=o=>t(a).path_image=o),error:t(a).errors.path_image},null,8,["modelValue","error"])]),n(R,{form:t(a),categories:l.categories,isCreating:!0},null,8,["form","categories"])])):_("",!0),r.value==="existing"&&l.mayors.length>0?(m(),d("div",O,[s("div",G,[n(U,{for:"mayor_id",value:"Prefeito Inativo"}),p(s("select",{id:"mayor_id","onUpdate:modelValue":e[3]||(e[3]=o=>t(i).mayor_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},[e[7]||(e[7]=s("option",{value:""},"Selecione um prefeito inativo",-1)),(m(!0),d(y,null,F(l.mayors,o=>(m(),d("option",{key:o.id,value:o.id},f(o.name)+" ("+f(o.email)+") ",9,H))),128))],512),[[N,t(i).mayor_id]]),n(B,{class:"mt-2",message:t(i).errors.mayor_id},null,8,["message"])])])):_("",!0),s("div",J,[n(M,{class:S({"opacity-25":t(a).processing||t(i).processing}),disabled:t(a).processing||t(i).processing},{default:g(()=>[$(f(r.value==="new"||l.mayors.length===0?"Salvar Novo Prefeito":"Ativar Prefeito"),1)]),_:1},8,["class","disabled"])])],32)]),_:1})],64))}});export{re as default};
