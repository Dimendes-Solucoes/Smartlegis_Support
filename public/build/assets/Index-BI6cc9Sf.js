import{d as N,r as $,u as D,c as l,o as r,a as o,b as c,h as j,w as d,e,g,F as y,i as F,t as n,j as U,k as B}from"./app-fd9APL3o.js";import{r as T,_ as V}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BCtCMGtt.js";import{g as A}from"./image-RR6o88EA.js";import{_}from"./TextButton-DOU-7i2M.js";import{_ as h}from"./IconButton-CaV5Z5UQ.js";import{_ as E}from"./ConfirmDeletionModal.vue_vue_type_script_setup_true_lang-B-h1W2SD.js";import{r as I}from"./TrashIcon-hhDCm9q7.js";/* empty css            */import"./ClipboardDocumentListIcon-BSLqYE-r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BaseButtonLink-B2sJy0-j.js";const S={class:"flex justify-end mb-4"},M={key:0,class:"overflow-x-auto"},q={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm"},z={class:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700"},L={class:"px-6 py-4 whitespace-nowrap"},G=["src"],H={key:1,class:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 text-sm"},J={class:"px-6 py-4 whitespace-nowrap"},K={class:"px-6 py-4 whitespace-nowrap"},O={class:"px-6 py-4 whitespace-nowrap"},P={class:"px-6 py-4 whitespace-nowrap"},Q={class:"px-6 py-4 whitespace-nowrap text-left text-sm font-medium"},R={key:1},de=N({__name:"Index",props:{users:{}},setup(w){const p=w,k=t=>A(t),i=$(null),v=t=>{i.value=t},m=()=>{i.value=null},b=D({}),C=()=>{var t;b.delete(route("users.destroy",(t=i.value)==null?void 0:t.id),{preserveScroll:!0,onSuccess:()=>m()})};return(t,s)=>{var u;return r(),l(y,null,[o(c(j),{title:"Usuários"}),o(V,null,{default:d(()=>[e("div",S,[o(_,{href:t.route("users.create")},{default:d(()=>s[0]||(s[0]=[g(" Novo Usuário ")])),_:1,__:[0]},8,["href"]),o(_,{href:t.route("users.replace_mayor"),color:"orange",class:"ml-2"},{default:d(()=>s[1]||(s[1]=[g(" Trocar prefeito ")])),_:1,__:[1]},8,["href"])]),p.users.length>0?(r(),l("div",M,[e("table",q,[s[3]||(s[3]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Foto"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Nome"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Apelido"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Email"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Categoria"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Ações")])],-1)),e("tbody",z,[(r(!0),l(y,null,F(p.users,a=>{var f,x;return r(),l("tr",{key:a.id},[e("td",L,[a.path_image?(r(),l("img",{key:0,src:k(a.path_image),alt:"Foto do Usuário",class:"h-10 w-10 rounded-full object-cover"},null,8,G)):(r(),l("div",H,s[2]||(s[2]=[e("span",null,"N/A",-1)])))]),e("td",J,n(a.name),1),e("td",K,n(a.nickname||"-"),1),e("td",O,n(a.email),1),e("td",P,n(((f=a.category)==null?void 0:f.name)||"-"),1),e("td",Q,[o(h,{href:t.route("users.edit",a.id),color:"yellow",title:"Editar"},{default:d(()=>[o(c(T),{class:"h-5 w-5"})]),_:2},1032,["href"]),((x=a.category)==null?void 0:x.id)!==5?(r(),U(h,{key:0,onClick:W=>v(a),color:"red",title:"Deletar",class:"ml-1"},{default:d(()=>[o(c(I),{class:"h-5 w-5"})]),_:2},1032,["onClick"])):B("",!0)])])}),128))])])])):(r(),l("div",R,s[4]||(s[4]=[e("p",null,"Nenhum usuário encontrado para esta cidade.",-1)])))]),_:1}),o(E,{show:i.value!==null,title:"Deletar usuário",message:`Tem certeza que deseja deletar o usuário '${(u=i.value)==null?void 0:u.name}'?`,onClose:m,onConfirm:C},null,8,["show","message"])],64)}}});export{de as default};
