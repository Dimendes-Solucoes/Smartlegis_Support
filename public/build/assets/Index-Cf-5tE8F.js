import{r as V,_ as D}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BCtCMGtt.js";import{_ as f}from"./IconButton-CaV5Z5UQ.js";import{_ as B}from"./TextButton-DOU-7i2M.js";import{c as n,o,e,d as $,m as w,n as S,t as d,r as y,q as A,s as k,a as r,b as h,h as N,w as u,g as Z,F as b,i as I,j as C}from"./app-fd9APL3o.js";import{_ as T}from"./Checkbox.vue_vue_type_script_setup_true_lang-dAz1eH0M.js";import{_ as j}from"./ConfirmDeletionModal.vue_vue_type_script_setup_true_lang-B-h1W2SD.js";import"./ClipboardDocumentListIcon-BSLqYE-r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BaseButtonLink-B2sJy0-j.js";/* empty css            */function E(p,i){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z","clip-rule":"evenodd"}),e("path",{d:"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"})])}function q(p,i){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM12.75 12a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V18a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V12Z","clip-rule":"evenodd"}),e("path",{d:"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"})])}const z=$({__name:"DocumentCategoryStatusBadge",props:{status:{}},setup(p){const i=p,m=w(()=>{const c="inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium";return i.status===0?`${c} bg-red-500 text-white dark:bg-red-500`:`${c} bg-green-500 text-white dark:bg-green-500 dark:text-black`}),g=w(()=>i.status===1?"Ativo":"Inativo");return(c,l)=>(o(),n("span",{class:S(m.value)},d(g.value),3))}}),F={class:"flex justify-between items-center mb-4"},P={class:"flex items-center"},U={key:0,class:"overflow-x-auto"},L={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm"},G={class:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700"},J={class:"px-6 py-4 whitespace-nowrap"},K={class:"px-6 py-4 whitespace-normal"},O={class:"px-6 py-4 whitespace-nowrap"},Q={class:"px-6 py-4 whitespace-nowrap"},R={class:"px-6 py-4 whitespace-nowrap"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Y={key:1},de=$({__name:"Index",props:{categories:{},filters:{}},setup(p){var _;const i=p,m=s=>{i.categories.find(x=>x.id===s)&&k.patch(route("document-categories.change_status",{id:s}),{},{preserveScroll:!0,onSuccess:()=>v()})},g=()=>{var s,t;(s=l.value)!=null&&s.id&&m((t=l.value)==null?void 0:t.id)},c=y(((_=i.filters)==null?void 0:_.show_inactive)||!1);A(c,s=>{k.get(route("document-categories.index"),{show_inactive:s},{preserveState:!0,replace:!0})});const l=y(null),H=s=>{l.value=s},v=()=>{l.value=null};return(s,t)=>{var x;return o(),n(b,null,[r(h(N),{title:"Categorias de Documentos"}),r(D,null,{default:u(()=>[e("div",F,[e("div",P,[r(T,{id:"show_inactive",checked:c.value,"onUpdate:checked":t[0]||(t[0]=a=>c.value=a)},null,8,["checked"]),t[1]||(t[1]=e("label",{for:"show_inactive",class:"ml-2 text-sm text-gray-600 dark:text-gray-400"}," Exibir inativas ",-1))]),r(B,{href:s.route("document-categories.create"),class:"p-4"},{default:u(()=>t[2]||(t[2]=[Z(" Nova Categoria ")])),_:1,__:[2]},8,["href"])]),i.categories.length>0?(o(),n("div",U,[e("table",L,[t[3]||(t[3]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," ID"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Nome"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Abreviação"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Protocolo Mínimo"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Protocolo Usado"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Status"),e("th",{scope:"col",class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Ações")])])],-1)),e("tbody",G,[(o(!0),n(b,null,I(i.categories,a=>(o(),n("tr",{key:a.id},[e("td",J,d(a.id),1),e("td",K,d(a.name),1),e("td",O,d(a.abbreviation),1),e("td",Q,d(a.min_protocol),1),e("td",R,d(a.highest_protocol??"-"),1),e("td",W,[r(z,{status:a.is_active?1:0},null,8,["status"])]),e("td",X,[r(f,{href:s.route("document-categories.edit",a.id),color:"yellow",title:"Editar"},{default:u(()=>[r(h(V),{class:"h-5 w-5"})]),_:2},1032,["href"]),a.is_active?(o(),C(f,{key:0,onClick:M=>H(a),color:"red",title:"Desativar",class:"ml-1"},{default:u(()=>[r(h(E),{class:"h-5 w-5"})]),_:2},1032,["onClick"])):(o(),C(f,{key:1,onClick:M=>m(a.id),color:"green",title:"Ativar",class:"ml-1"},{default:u(()=>[r(h(q),{class:"h-5 w-5"})]),_:2},1032,["onClick"]))])]))),128))])])])):(o(),n("div",Y,t[4]||(t[4]=[e("p",null,"Nenhuma categoria de documento encontrada.",-1)])))]),_:1}),r(j,{show:l.value!==null,title:"Inativar categoria",message:`Tem certeza que deseja desativar a categoria '${(x=l.value)==null?void 0:x.name}'?`,onClose:v,onConfirm:g,"button-text":"Desativar"},null,8,["show","message"])],64)}}});export{de as default};
