import{r as j,_ as B}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BCtCMGtt.js";import{c as r,o as a,e as t,d as V,m as C,n as A,t as l,r as E,q as M,s as $,a as c,b as f,h as Z,w as u,g as U,F as I,i as T,k as g,j as v}from"./app-fd9APL3o.js";import{g as D}from"./image-RR6o88EA.js";import{_ as N}from"./TextButton-DOU-7i2M.js";import{_ as S}from"./IconButton-CaV5Z5UQ.js";import{_ as F}from"./Checkbox.vue_vue_type_script_setup_true_lang-dAz1eH0M.js";import"./ClipboardDocumentListIcon-BSLqYE-r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./BaseButtonLink-B2sJy0-j.js";function z(d,o){return a(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M10.375 2.25a4.125 4.125 0 1 0 0 8.25 4.125 4.125 0 0 0 0-8.25ZM10.375 12a7.125 7.125 0 0 0-7.124 7.247.75.75 0 0 0 .363.63 13.067 13.067 0 0 0 6.761 1.873c2.472 0 4.786-.684 6.76-1.873a.75.75 0 0 0 .364-.63l.001-.12v-.002A7.125 7.125 0 0 0 10.375 12ZM16 9.75a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5h-6Z"})])}function q(d,o){return a(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"})])}const H=V({__name:"UserStatusBadge",props:{statusUser:{}},setup(d){const o=d,y=C(()=>{const p="inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium";return o.statusUser===2?`${p} bg-red-500 text-white dark:bg-red-500`:`${p} bg-green-500 text-white dark:bg-green-500 dark:text-black`}),h=C(()=>o.statusUser===2?"Inativo":"Ativo");return(p,m)=>(a(),r("span",{class:A(y.value)},l(h.value),3))}}),L={class:"flex justify-end items-center mb-4"},O={class:"flex items-center space-x-2"},P={class:"flex justify-start items-center mb-4"},G={class:"flex items-center"},J={key:0,class:"overflow-x-auto"},K={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 text-sm"},Q={class:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700"},R={class:"px-4 py-4 whitespace-nowrap"},W=["src"],X={key:1,class:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 text-sm"},Y={class:"px-4 py-4 whitespace-nowrap"},ee={class:"flex flex-col"},te={class:"text-gray-500 dark:text-gray-300 text-sm"},se={class:"px-4 py-4 whitespace-nowrap"},ae={class:"px-4 py-4 whitespace-nowrap"},re={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-gray-300 text-black mr-1"},oe={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-gray-300 text-black"},ne={key:2},ie={class:"px-4 py-4 whitespace-nowrap"},ce={class:"px-4 py-4 whitespace-nowrap text-left text-sm font-medium"},le={key:1},ve=V({__name:"Index",props:{users:{},filters:{}},setup(d){const o=d,y=n=>D(n),h=n=>{confirm("Tem certeza que deseja atualizar o status do usuário?")&&$.patch(route("councilors.change_status",{id:n}),{},{preserveScroll:!0})},p=()=>{const s=o.users.map(e=>{var k,b;const i=e.name,x=((k=e.category)==null?void 0:k.name)||"N/D",_=((b=e.party)==null?void 0:b.name_party)||"N/D",w=e.email;return`${x} - ${_}
${i}
${w}`}).join(`

`);navigator.clipboard.writeText(s).then(()=>{alert("Informações de todos os vereadores copiadas para a área de transferência!")}).catch(e=>{console.error("Erro ao copiar para a área de transferência:",e);const i=document.createElement("textarea");i.value=s,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),alert("Informações copiadas. Seu navegador não suporta a API nativa de cópia.")})},m=E(o.filters.show_inactive||!1);return M(m,n=>{$.get(route("councilors.index"),{show_inactive:n},{preserveState:!0,replace:!0})}),(n,s)=>(a(),r(I,null,[c(f(Z),{title:"Vereadores"}),c(B,null,{default:u(()=>[t("div",L,[t("div",O,[c(N,{onClick:s[0]||(s[0]=e=>p()),class:"p-4",color:"yellow",disabled:!o.users.length},{default:u(()=>s[2]||(s[2]=[U(" Copiar Vereadores ")])),_:1,__:[2]},8,["disabled"]),c(N,{href:n.route("councilors.create"),class:"p-4"},{default:u(()=>s[3]||(s[3]=[U(" Novo Vereador ")])),_:1,__:[3]},8,["href"])])]),t("div",P,[t("div",G,[c(F,{id:"show_inactive",checked:m.value,"onUpdate:checked":s[1]||(s[1]=e=>m.value=e)},null,8,["checked"]),s[4]||(s[4]=t("label",{for:"show_inactive",class:"ml-2 text-sm text-gray-600 dark:text-gray-400"}," Exibir inativos ",-1))])]),o.users.length>0?(a(),r("div",J,[t("table",K,[s[6]||(s[6]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Foto"),t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Nome"),t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Email"),t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Obs."),t("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Status"),t("th")])],-1)),t("tbody",Q,[(a(!0),r(I,null,T(o.users,e=>{var i,x,_;return a(),r("tr",{key:e.id},[t("td",R,[e.path_image?(a(),r("img",{key:0,src:y(e.path_image),alt:"Foto do Usuário",class:"h-10 w-10 rounded-full object-cover"},null,8,W)):(a(),r("div",X,s[5]||(s[5]=[t("span",null,"N/A",-1)])))]),t("td",Y,[t("div",ee,[t("span",null,l(e.name)+" ("+l(((i=e.party)==null?void 0:i.name_party)||"-")+")",1),t("span",te,l(((x=e.category)==null?void 0:x.name)||"-")+" - "+l(e.nickname||"-"),1)])]),t("td",se,l(e.email),1),t("td",ae,[e.status_lider?(a(),r("span",re," Líder ")):g("",!0),e.is_first_secretary?(a(),r("span",oe," 1º Sec. ")):g("",!0),!e.status_lider&&!e.is_first_secretary?(a(),r("span",ne," - ")):g("",!0)]),t("td",ie,[c(H,{statusUser:e.status_user},null,8,["statusUser"])]),t("td",ce,[c(S,{href:n.route("councilors.edit",e.id),color:"yellow",title:"Editar"},{default:u(()=>[c(f(j),{class:"h-5 w-5"})]),_:2},1032,["href"]),((_=e.category)==null?void 0:_.id)===2?(a(),v(S,{key:0,onClick:w=>h(e.id),color:e.status_user===1?"red":"green",title:e.status_user===1?"Desativar usuário":"Ativar usuário",href:"#",class:"ml-1"},{default:u(()=>[e.status_user===1?(a(),v(f(z),{key:0,class:"h-5 w-5"})):(a(),v(f(q),{key:1,class:"h-5 w-5"}))]),_:2},1032,["onClick","color","title"])):g("",!0)])])}),128))])])])):(a(),r("div",le,s[7]||(s[7]=[t("p",null,"Nenhum usuário encontrado para esta cidade.",-1)])))]),_:1})],64))}});export{ve as default};
