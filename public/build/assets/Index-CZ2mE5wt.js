import{_ as V}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BCtCMGtt.js";import{c as a,o as l,e,d as T,r as F,q as z,s as A,m as I,a as _,b as w,h as Q,w as k,t as o,F as v,i as f,n as h,k as C}from"./app-fd9APL3o.js";import{_ as $}from"./TextButton-DOU-7i2M.js";import"./ClipboardDocumentListIcon-BSLqYE-r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./BaseButtonLink-B2sJy0-j.js";function Z(y,r){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z","clip-rule":"evenodd"})])}function j(y,r){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule":"evenodd"})])}const q={class:"flex justify-center items-center mb-4"},O={class:"flex items-center space-x-4"},P={class:"text-xl font-semibold capitalize px-2"},W={class:"hidden sm:grid sm:grid-cols-7 gap-1"},G={key:1,class:"flex flex-col space-y-1"},H=["title"],J={class:"sm:hidden"},K={class:"mt-2 flex flex-col space-y-2"},R={class:"font-semibold"},U={class:"text-xs mt-1"},X={class:"text-xs mt-1"},ee={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},te={class:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700"},ae={class:"flex flex-wrap gap-4"},le={class:"text-sm text-gray-700 dark:text-gray-300"},ue=T({__name:"Index",props:{calendarData:{}},setup(y){const r=y,B=r.calendarData?r.calendarData.year:new Date().getFullYear(),L=r.calendarData?r.calendarData.month:new Date().getMonth()+1,c=F(B),s=F(L),Y=()=>{s.value===1?(s.value=12,c.value--):s.value--},E=()=>{s.value===12?(s.value=1,c.value++):s.value++};z([s,c],([d,n])=>{A.visit(route("calendar.index",{year:n,month:d}),{preserveScroll:!0,preserveState:!0})});const S=I(()=>{const d=new Date(c.value,s.value-1,1),n=new Date(c.value,s.value,0).getDate(),x=d.getDay(),g=[];for(let i=0;i<x;i++)g.push(null);for(let i=1;i<=n;i++)g.push(i);return g}),D=d=>{if(!d||!r.calendarData||!r.calendarData.events)return[];const n=new Date(c.value,s.value-1,d);return r.calendarData.events.filter(x=>new Date(x.start).toDateString()===n.toDateString())},M={1:{bg:"bg-red-100 dark:bg-red-900",text:"text-red-800 dark:text-red-200",label:"Aguardando"},2:{bg:"bg-yellow-100 dark:bg-yellow-900",text:"text-yellow-800 dark:text-yellow-200",label:"Em Votação"},3:{bg:"bg-green-100 dark:bg-green-900",text:"text-green-800 dark:text-green-200",label:"Concluída"}},b=d=>M[d]||{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-800 dark:text-gray-200"};return(d,n)=>{var x,g;return l(),a(v,null,[_(w(Q),{title:`Calendário - ${((x=r.calendarData)==null?void 0:x.monthName)||"Mês"} ${((g=r.calendarData)==null?void 0:g.year)||"Ano"}`},null,8,["title"]),_(V,null,{default:k(()=>{var i,N;return[e("div",q,[e("div",O,[_($,{onClick:Y,color:"gray"},{default:k(()=>[_(w(Z),{class:"h-4 w-5"})]),_:1}),e("h3",P,o(((i=r.calendarData)==null?void 0:i.monthName)||"Carregando...")+" "+o(((N=r.calendarData)==null?void 0:N.year)||""),1),_($,{onClick:E,color:"gray"},{default:k(()=>[_(w(j),{class:"h-4 w-5"})]),_:1})])]),n[1]||(n[1]=e("div",{class:"hidden sm:grid grid-cols-7 gap-1 text-center font-bold text-gray-600 dark:text-gray-300 mb-2"},[e("div",null,"Dom"),e("div",null,"Seg"),e("div",null,"Ter"),e("div",null,"Qua"),e("div",null,"Qui"),e("div",null,"Sex"),e("div",null,"Sáb")],-1)),e("div",W,[(l(!0),a(v,null,f(S.value,(t,p)=>(l(),a("div",{key:p,class:h(["border border-gray-200 dark:border-gray-700 rounded-lg p-2 min-h-[80px] flex flex-col",{"bg-gray-50 dark:bg-gray-700":t===null,"bg-white dark:bg-gray-800":t!==null}])},[t?(l(),a("span",{key:0,class:h(["font-bold text-lg mb-1",{"text-blue-600 dark:text-blue-400":t===new Date().getDate()&&s.value===new Date().getMonth()+1&&c.value===new Date().getFullYear()}])},o(t),3)):C("",!0),t?(l(),a("div",G,[(l(!0),a(v,null,f(D(t),u=>(l(),a("div",{key:u.id,class:h(["text-xs rounded-md p-1 truncate",b(u.status_id).bg+" "+b(u.status_id).text]),title:`${u.title}`},o(u.tenant_city),11,H))),128))])):C("",!0)],2))),128))]),e("div",J,[(l(!0),a(v,null,f(S.value.filter(t=>t!==null),(t,p)=>{var u;return l(),a("div",{key:p,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 mb-2"},[e("span",{class:h(["font-bold text-lg mb-1",{"text-blue-600 dark:text-blue-400":t===new Date().getDate()&&s.value===new Date().getMonth()+1&&c.value===new Date().getFullYear()}])},o(t)+" "+o((u=r.calendarData)==null?void 0:u.monthName),3),e("div",K,[(l(!0),a(v,null,f(D(t),m=>(l(),a("div",{key:m.id,class:h(["text-sm rounded-md p-2",b(m.status_id).bg+" "+b(m.status_id).text])},[e("h5",R,o(m.title),1),e("p",U," Status: "+o(b(m.status_id).label),1),e("p",X," Local: "+o(m.tenant_city),1)],2))),128)),D(t).length===0?(l(),a("p",ee,"Nenhum evento")):C("",!0)])])}),128))]),e("div",te,[n[0]||(n[0]=e("h4",{class:"font-semibold text-lg mb-2"},"Legenda:",-1)),e("div",ae,[(l(),a(v,null,f(M,(t,p)=>e("div",{key:p,class:"flex items-center space-x-2"},[e("span",{class:h(["w-4 h-4 rounded-full",t.bg.replace(/-\d{2,3}/g,"-500")])},null,2),e("span",le,o(t.label),1)])),64))])])]}),_:1,__:[1]})],64)}}});export{ue as default};
